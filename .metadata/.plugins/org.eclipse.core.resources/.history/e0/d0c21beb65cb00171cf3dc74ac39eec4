package domain;

public class DoublyLinkedList {

	//静态内部类 Node:节点
	
	private Node header;
	private Node trailer;
	
	private int size; // 链表大小
	
	
	
	
	public int getSize() {
		return size;
	}

	public DoublyLinkedList() {
		size=0;
		header=new Node("header"); // 头结点
		trailer=new Node("trailer"); //尾结点
	}

	public void test(){
		Object a=header.getNext().getData();
	}
	
	//添加结点
	public void add(Object data){
		Node temp=header;
		Node newnode=new Node(data);
		if(header.next==null){
			header.setNext(newnode);
			trailer.setPrev(newnode);
		}else{
			trailer.getPrev().setNext(newnode);
			trailer.setPrev(newnode);
		}
		size++;
	}
	public void add(int index,Object data){
		Node newnode=new Node(data);
		Node temp=this.getNode(index);
		temp.getNext().setPrev(newnode); //先把指定位置的后一个结点的向前引用指向新的
		temp.setNext(newnode);           //再把指定位置的向后引用设置为新的
		size++;
	}
	//返回指定位置的结点
	private Node getNode(int index){  
		if (index < 0 || index >= size)  
			throw new IndexOutOfBoundsException();  
	    Node node = header.getNext();  
	    for (int i = 0; i < index; i++)  
	    	node = node.next;  
	    return node; 
	}  
	
	//返回指定位置的结点的数据
	public Object getValue(int index){
		Node temp=getNode(index);
		return temp.getData();
	}
	
	//判断链表是否为空
	public boolean isEmpty(){
		if(this.getSize()==0)
			return true;
		else
			return false;
	}
	
	
	
	
	
	
	
	
	
	
	
}
class Node{  		
	Object data;  	//数据域
	Node prev;  //前结点
	Node next;  //后结点
	
	Node(Object v) {
      data = v;
      prev=null;
      next=null;
    }
    public String toString() {
      return data.toString();
    }
    
	public Node getPrev() {   			//获取前一个结点
		
		return prev;
	}
	public void setPrev(Node prev) {	//设置前一个结点
		this.prev = prev;
	}
	public Node getNext() {				//获取后一个结点
		return next;
	}
	public void setNext(Node next) {	//设置有一个结点
		this.next = next;
	}
	public Object getData() { 				//获取此结点的数据，类型为T
		return this.data;
	}
    
    
    
    
}